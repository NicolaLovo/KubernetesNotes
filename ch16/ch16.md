# Chapter 16 - Requests and Limits

Ex:

- 2 nodes, each has 4 CPU and 4GB of RAM
- 9 pods, each requires 1 CPU and 1GB of RAM

The first 8 pods are scheduled, but the last one cannot be scheduled: no node has sufficient resources

Ex:

- a pod starts using 1 CPU and 1 GB of RAM. As time passes, the RAM usage of pod increases
- it reaches 4GB of ram, fills the node's memory -> pod will be killed with OOM(Out Of Memory) error
  - and all the other pods of the node will be OOM killed
- How to prevent the crash of other pods? Requests and Limits

Metrics Server:

- exposes metrics of nodes (CPU, RAM) -> so that they can be used for autoscaling
- `kubectl top node` -> show the current metrics usage of the node
- `kbectl top pod MYPOD` -> get metrics of a pod

Limit -> the pod can consume up to this limit of the specified resource, if it goes past this threshold:

- for RAM -> `OOMKilled`
- for CPU -> CPU of the pod throttles

If we set requests to MORE than the resources of the node:

- for RAM -> Insufficient memory, cannot be scheduled
- for CPU -> Insufficient cpu, cannot be scheduled